create schema database Modul7;

create schema Modul7;

use Modul7;

create table FAKULTAS(
ID_FAKULTAS smallint not null,
FAKULTAS VARCHAR (45) not null,
primary key (ID_FAKULTAS)
)

create table JURUSAN(
ID_JURUSAN smallint not null,
ID_FAKULTAS smallint not null,
JURUSAN VARCHAR(45),
primary key (ID_JURUSAN),
foreign key (ID_FAKULTAS) references FAKULTAS(ID_FAKULTAS)
)

create table STRATA(
ID_STRATA smallint not null,
SINGKAT VARCHAR(10),
STRATA VARCHAR(45),
primary key (ID_STRATA)
)

CREATE TABLE SELEKSI_MASUK(
	ID_SELEKSI_MASUK SMALLINT,
	SINGKAT VARCHAR(12),
	SELEKSI_MASUK VARCHAR(60),
	PRIMARY KEY (ID_SELEKSI_MASUK)
);

CREATE TABLE MAHASISWA(
	NIM VARCHAR(15) primary key,
	ID_SELEKSI_MASUK SMALLINT,
	ID_PROGRAM_STUDI SMALLINT,
	NAMA VARCHAR(45),
	ANGKATAN SMALLINT,
	TGL_LAHIR DATE,
	KOTA_LAHIR VARCHAR(60),
	JENIS_KELAMIN CHAR(1) CHECK (JENIS_KELAMIN IN ('W', 'P')),
	FOREIGN KEY (ID_SELEKSI_MASUK) REFERENCES SELEKSI_MASUK (ID_SELEKSI_MASUK),
	FOREIGN KEY (ID_PROGRAM_STUDI) REFERENCES PROGRAM_STUDI (ID_PROGRAM_STUDI)
);

CREATE TABLE PROGRAM_STUDI(
	ID_PROGRAM_STUDI smallint primary key,
	ID_STRATA smallint not null,
 	ID_JURUSAN smallint not null,
	PROGRAM_STUDI VARCHAR(60),
	FOREIGN KEY (ID_STRATA) REFERENCES STRATA(ID_STRATA),
	FOREIGN KEY (ID_JURUSAN) REFERENCES JURUSAN(ID_JURUSAN)
);

insert into FAKULTAS (ID_FAKULTAS, FAKULTAS)
values ('1', 'EKONOMI & BISNIS');

insert into FAKULTAS (ID_FAKULTAS, FAKULTAS)
values ('2', 'ILMU KOMPUTER');

insert into JURUSAN (ID_JURUSAN, ID_FAKULTAS, JURUSAN)
values (21, 2, 'INFORMATIKA'), (22, 2, 'SISTEM INFORMASI'), (23, 2, 'TEKNIK KOMPUTER')

insert into PROGRAM_STUDI (ID_PROGRAM_STUDI, ID_STRATA, ID_JURUSAN, PROGRAM_STUDI)
values (211, 2, 21, 'TEKNIK INFORMATIKA'), (212, 2, 21, 'TEKNIK KOMPUTER'), (219, 3, 21, 'MAGISTER ILMU KOMPUTER')

insert into STRATA (ID_STRATA,SINGKAT, STRATA)
values (1, 'D1', 'DIPLOMA'), (2, 'S1', 'SARJANA'), (3, 'S2', 'MAGISTER')

insert into SELEKSI_MASUK (ID_SELEKSI_MASUK, SINGKAT, SELEKSI_MASUK)
values  (1,'SNMPTN', 'SELEKSI MASUK PERGURUAN TINGGI NEGERI'), (2, 'SBMPTN', 'SELEKSI MASUK PERGURUAN TINGGI NEGERI')

insert into MAHASISWA (NIM, ID_SELEKSI_MASUK, ID_PROGRAM_STUDI, NAMA, ANGKATAN, TGL_LAHIR, KOTA_LAHIR, JENIS_KELAMIN)
values ('155150400', 1, 211, 'JONI', 2015, '1997-01-01', 'MALANG', 'W'), ('155150401', 1, 212, 'JONO', 2015, '1997-10-02', 'SITUBONDO', 'P')
